# 타 시스템 연동 설계

이 문서는 게시판 프로젝트에서
**외부 시스템과 연동되는 기능을 설계하는 단계**이다.

지금까지 우리는

* 서버 내부 구조(Controller / Service / Repository)
* 공통 모듈과 역할 분리

를 통해 **우리 시스템 내부를 안정적으로 설계**했다.

이 단계에서는 한 단계 더 나아가,

> **외부 시스템과 연결되더라도
> 지금까지 정한 설계 원칙이 그대로 유지되는지**

를 확인한다.

이 문서는 구현 방법을 다루지 않으며,
외부 연동을 **어떤 구조와 책임으로 처리할 것인지**를 정의한다.

---

## 1. 연동 목적

타 시스템 연동의 목적은 단순히
외부 데이터를 가져오는 것이 아니다.

본 프로젝트에서의 연동 목적은 다음과 같다.

* 클라이언트는 외부 시스템을 직접 호출하지 않는다
* 우리 서버 API만 호출하여 데이터를 제공받는다
* 외부 시스템 장애가 우리 서버 전체 장애로 확산되지 않도록 한다

> 즉,
> **외부 의존성을 서버 내부에서 흡수하고 격리**하는 것이 목적이다.

---

## 2. 연동 대상 (External System)

### 2-1. 데이터 소스

본 프로젝트의 연동 대상은 다음과 같다.

* Google News RSS
* 주제: IT 뉴스
* 피드 URL은 구성값(configuration)으로 관리한다

외부 시스템의 세부 형식이나 정책은
우리 시스템의 책임 범위에 포함하지 않는다.

---

## 3. 연동 방식

본 프로젝트에서 사용하는 연동 방식은 다음 흐름을 따른다.

1. 서버가 외부 RSS를 HTTP 기반으로 호출한다
2. 외부 응답(RSS / XML)을 수신한다
3. RSS 데이터를 내부 표준 형태(JSON)로 변환한다
4. 변환된 결과를 API 응답으로 제공한다

> 외부 응답 형식은
> **서버 내부에서만 처리**하며,
> 클라이언트에는 노출하지 않는다.

---

## 4. 데이터 변환 (내부 표준 모델)

외부 RSS 항목은
우리 서버가 사용하는 **내부 표준 모델**로 변환한다.

내부 뉴스 모델의 최소 필드는 다음과 같다.

* id : 식별자 (서버에서 생성하거나 해시로 구성)
* title : 제목
* link : 원문 링크
* publisher : 제공자 (가능한 경우)
* publishedAt : 발행 시각 (가능한 경우)

> 내부 표준 모델을 두는 이유는
> 외부 데이터 형식 변화가
> 시스템 전체에 영향을 주지 않도록 하기 위함이다.

---

## 5. API 제공 범위

뉴스 기능은
게시판 도메인과 **분리된 독립 기능**으로 제공한다.

* 뉴스 목록 조회 API 제공
* 검색 및 필터링 기능은 기본 범위에서 제외한다

기능 범위를 제한함으로써
연동 복잡도를 통제한다.

---

## 6. 장애 및 실패 처리 정책

외부 시스템은
우리 시스템이 통제할 수 없는 영역이다.

따라서 다음과 같은 정책을 적용한다.

* 외부 호출 실패 시 표준 오류 응답 반환
* 실패는 전역 예외 처리 규칙에 따라 HTTP 상태 코드로 표현
* 외부 응답 지연에 대비해 호출 시간 제한을 둔다

> 외부 장애는
> **우리 서버의 내부 장애로 확대되지 않아야 한다.**

---

## 7. 캐시 / 저장 정책 (선택)

외부 RSS 데이터를
요청마다 호출하지 않도록
캐시 또는 저장 정책을 적용할 수 있다.

* 기본 방식: 일정 주기로 수집 후 저장
* 옵션: 마지막 성공 데이터를 캐시로 유지

구체적인 저장소와 방식은
구현 단계에서 확정한다.

---

## 8. 책임 분리 (역할)

외부 연동에서도
앞 단계에서 정한 역할 분리 원칙을 그대로 적용한다.

* Controller : 뉴스 조회 API 제공, 응답 변환
* Service : 외부 호출, 수집 및 변환 흐름 제어, 정책 적용
* Repository (선택) : 저장/조회가 필요한 경우 데이터 접근

> 외부 시스템 호출은
> **Service 계층의 책임**으로 둔다.

---

## 9. 이 단계의 핵심 정리

타 시스템 연동 설계 단계에서는 다음을 확정한다.

* 연동 대상과 범위
* 연동 방식과 데이터 흐름
* 내부 표준 모델
* 장애 및 캐시 정책
* 역할 분리 기준

이 설계가 있어야
구현 단계에서 구조가 흔들리지 않는다.

---

## 다음 단계

이제 외부 연동에 대한 설계까지 완료되었다.

다음 단계에서는
이 설계를 바탕으로
**통합 구현(환경 구성 및 프로젝트 초기화)** 을 진행한다.

→ [**Spring Boot 개발환경 준비**](/docs/03-integration-implementation/01-springboot-setup.md)
