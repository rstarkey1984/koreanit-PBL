# 분석 모델 정의

## 강의 목표

이 단계에서는 **요구사항으로 정리된 내용을
시스템 관점의 흐름과 개념으로 재구성**한다.

학생이 다음을 이해하는 것이 목표이다.

* 요구사항과 설계는 다르다
* 분석 모델은 코드 설계도가 아니다
* 시스템이 *어떻게 동작해야 하는지*를 먼저 정리하는 단계다

---

## 1. 분석 모델이란 무엇인가

분석 모델은 다음을 다루지 않는다.

* 클래스 구조 ❌
* 메서드 설계 ❌
* 프레임워크 ❌
* 데이터베이스 테이블 ❌

대신, 분석 모델은 이것을 정의한다.

> **누가(Actor) → 어떤 개념을 가지고 → 어떤 순서로
> 시스템과 상호작용하는가**

즉,

> 분석 모델은 **시스템의 행동 설명서**이다.

---

## 2. 왜 요구사항 다음에 분석 모델이 필요한가

02단계에서 우리는
"무엇을 해야 하는지"를 정리했다.

하지만 요구사항만으로는
다음 질문에 답할 수 없다.

* 이 기능들은 어떤 흐름으로 이어지는가?
* 어디까지가 하나의 동작 단위인가?
* 어떤 책임들이 함께 묶여야 하는가?

이 질문에 답하기 위해
**분석 모델 단계가 필요하다.**

---

## 3. 주요 행위자(Actor)

이 시스템에는 다음과 같은 행위자가 존재한다.

* 비회원 사용자
* 로그인 사용자

> 행위자는
> **시스템을 사용하는 사람의 상태 구분 기준**이다.

이 구분이 있어야
권한과 기능 범위를 명확히 나눌 수 있다.

---

## 4. 핵심 도메인 개념

시스템을 설명할 때
반드시 등장하는 핵심 개념은 다음과 같다.

* 사용자(User)
* 게시글(Post)
* 댓글(Comment)
* 조회 기록(View Log)

이 개념들은
이후 설계 단계에서
책임 단위로 분리된다.

> 이 단계에서는
> "존재를 인정"하는 것이 목적이다.

---

## 5. 기능 흐름 정의

분석 모델의 핵심은
**기능을 개별 API가 아닌 흐름으로 보는 것**이다.

---

### 5-1. 회원 가입 및 로그인 흐름

1. 사용자는 회원 가입을 요청한다
2. 시스템은 사용자 정보를 저장한다
3. 사용자는 로그인을 요청한다
4. 시스템은 인증 후 로그인 상태를 유지한다

> 여기서 중요한 것은
> "로그인 상태 유지"라는 책임이
> 시스템에 있음을 명시하는 것이다.

---

### 5-2. 게시글 조회 흐름

1. 사용자는 게시글 목록을 요청한다
2. 시스템은 게시글 목록을 반환한다
3. 사용자는 특정 게시글을 선택한다
4. 시스템은 게시글 상세 정보를 반환한다
5. 조회 기록이 없는 경우에만 조회수를 증가시킨다

> 조회수 증가는
> 목록 조회가 아닌 **상세 조회 흐름의 일부**다.

---

### 5-3. 게시글 작성 흐름

1. 로그인 사용자는 게시글 작성을 요청한다
2. 시스템은 작성자 여부를 확인한다
3. 게시글을 저장한다

---

### 5-4. 댓글 처리 흐름

1. 로그인 사용자는 댓글 작성을 요청한다
2. 시스템은 게시글과 작성자를 확인한다
3. 댓글을 저장한다
4. 게시글의 댓글 수를 갱신한다

> 댓글 수 갱신은
> 댓글 처리 흐름에 포함된 시스템 책임이다.

---

## 6. 권한 흐름

분석 모델에서는
권한을 구현 방식이 아닌 **행동 규칙**으로 정의한다.

* 비회원은 조회 기능만 가능하다
* 로그인 사용자만 작성 기능이 가능하다
* 삭제 요청 시 작성자 여부를 확인한다

> 권한 검사는
> 선택이 아닌 **필수 규칙**이다.

---

## 7. 이 단계의 핵심 정리

분석 모델 단계에서 가장 중요한 것은 다음이다.

> **구현을 미루고,
> 시스템의 동작 흐름과 책임 경계를 먼저 합의하는 것**

이 합의가 있어야
다음 단계의 설계가 흔들리지 않는다.

---

## 다음 단계

이제 질문은 다음으로 넘어간다.

> "이 흐름과 책임을
> 실제 애플리케이션 구조로
> 어떻게 나눌 수 있을까?"

→ [**01. 애플리케이션 설계**](/docs/02-application-design/01-application-architecture.md)