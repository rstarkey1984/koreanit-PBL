# 현행 시스템 분석

## 강의 목표

* 단일 컨트롤러 구조의 한계를 이해한다
* 코드 문제가 아닌 **구조 문제**임을 인식한다
* 이후 단계(요구사항, 분석 모델, 설계)가 왜 필요한지 체감한다

---

## 1. 현행 시스템이란 무엇인가

여기서 말하는 *현행 시스템*은
대기업의 레거시 시스템이나 실제 운영 중인 서비스를 의미하지 않는다.

대부분의 학습자가
**처음 웹/서버 프로젝트를 진행할 때 자연스럽게 만드는 구조**를 가리킨다.

### 전형적인 출발 형태

* Spring Boot 기반
* Controller 하나에 모든 API 구현
* 빠르게 동작하는 것을 우선으로 구현

---

## 2. 단일 컨트롤러 구조의 특징

단일 컨트롤러 구조에서는
하나의 Controller 클래스가 여러 역할을 함께 맡는다.

* HTTP 요청과 응답 처리
* 요청 값 확인 및 간단한 검증
* 로그인 및 세션 처리
* 실제 기능 처리 로직
* DB 연결 및 SQL 실행
* 결과를 응답 형태로 가공

즉,

> **하나의 파일이 여러 일을 동시에 처리하는 구조**다.

---

## 3. 처음에는 왜 문제가 없어 보일까

처음 프로젝트를 만들 때는
이 구조가 오히려 편해 보인다.

### 장점처럼 느껴지는 점

* 파일 하나만 보면 전체 흐름을 알 수 있다
* 어디에 코드가 있는지 찾기 쉽다
* 빠르게 결과를 만들 수 있다

이 단계에서는
구조적인 문제를 느끼기 어렵다.

---

## 4. 문제가 드러나는 시점

기능이 하나둘씩 추가되기 시작하면
점점 불편한 점이 나타난다.

### 4-1. 코드가 읽기 어려워진다

* 파일이 계속 길어진다
* 어디까지가 하나의 기능인지 구분하기 어렵다
* 고치려는 코드를 찾는 데 시간이 걸린다

### 4-2. 같은 코드가 반복된다

* 로그인 확인 코드가 여기저기 반복된다
* 비슷한 예외 처리 코드가 계속 나온다
* 응답을 만드는 코드가 복사되어 사용된다

> 그 결과 **복사해서 붙여 넣은 코드가 점점 늘어난다.**

---

## 5. 현행 시스템 분석에서 살펴보는 것

현행 시스템 분석은
"지금 구조가 어떤 상태인지"를 차분히 살펴보는 단계다.

코드를 고치거나 평가하려는 목적이 아니라,
**이 구조에서 왜 이런 문제가 생기는지**를 이해하는 데 목적이 있다.

---

### 5-1. 문제를 구조의 관점에서 살펴본다

현행 시스템을 보면
문제가 특정 코드 한 줄이나 문법 오류 때문은 아니다.

각 기능은 각각 잘 동작하지만,
모든 책임이 한 파일에 모여 있어
기능이 늘어날수록 관리하기 어려워진다.

이 단계에서 중요한 질문은 다음과 같다.

> **"어떤 코드를 고쳐야 할까?"** 가 아니라
> **"이 구조로 계속 만들면 어떤 일이 생길까?"**

즉, 현행 시스템 분석은
문제를 개인의 실수로 보기보다
**구조가 단순한 상태에서 시작했을 때 자연스럽게 생기는 한계로 살펴본다.**

---

### 5-2. 구조를 정리하지 않고 시작했을 때의 흐름을 살펴본다

처음에는 구조를 나누지 않아도
빠르게 기능을 만들 수 있다.

하지만 기능이 늘어나면
작은 수정에도 여러 부분을 함께 확인해야 한다.

이 과정을 통해 다음과 같은 사실을 알 수 있다.

> 구조를 먼저 정리하지 않으면
> 기능이 늘어날수록 수정이 점점 어려워진다.

---

### 5-3. 코드 안에 이미 들어가 있는 동작 기준을 살펴본다

현행 시스템의 코드 안에는
이미 여러 기준이 들어가 있다.

예를 들면 다음과 같다.

* 로그인하지 않으면 글을 작성할 수 없다
* 작성자가 아니면 삭제할 수 없다
* 같은 사용자가 조회수를 반복해서 올릴 수 없다

이 기준들은
문서로 정리되어 있지는 않지만,
코드 안에서 실제로 동작하고 있다.

이 단계에서는
**"이미 어떤 규칙들이 코드 안에 들어가 있는지"**를 살펴본다.

---

### 5-4. 이 구조를 계속 사용했을 때의 한계를 정리한다

현행 시스템 분석에서는
해결 방법을 바로 찾지 않는다.

대신 다음과 같은 점을 확인한다.

* 모든 기능이 한 파일에 모이면 점점 관리하기 어려워진다
* 기능을 추가할수록 수정 범위가 넓어진다
* 어느 부분을 고쳐야 하는지 판단하기 어려워진다

즉,

> **이 구조로 계속 만들면 점점 작업이 힘들어진다**

는 사실을 정리하는 단계다.

---

## 6. 이 단계에서는 무엇을 하지 않는가

이 단계의 목적은
문제를 바로 해결하는 것이 아니라,
현재 구조의 상태와 한계를 이해하는 데 있다.

그래서 다음과 같은 내용은
이 단계에서는 다루지 않는다.

* Service / Repository 구조
* 설계 패턴
* 코드 리팩토링

이러한 내용들은
구조의 문제가 무엇인지 충분히 확인한 뒤에
다음 단계에서 자연스럽게 다루게 된다.

---

## 이 단계의 핵심 정리

이 단계를 통해
다음과 같은 생각이 들면 충분하다.

> "지금 구조는 만들기는 쉬웠지만,
> 계속 쓰기에는 점점 힘들어지는 구조구나."

이 인식이 있어야
다음 단계가 자연스럽게 이어진다.

---

## 다음 단계

이제 다음 질문으로 넘어간다.

> "그렇다면 이 시스템은
> **무엇을 해야 하고,
> 어디까지 책임져야 할까?**"

→ [**요구사항 정의**](02-requirements.md)
