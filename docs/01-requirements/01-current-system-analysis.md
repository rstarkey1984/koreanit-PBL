# 현행 시스템 분석

## 강의 목표

이 단계에서는 **왜 구조 설계가 필요한지**를 학생이 스스로 납득하도록 만드는 것이 목표이다.

* 단일 컨트롤러 구조의 한계를 이해한다
* 코드 문제가 아닌 **구조 문제**임을 인식한다
* 이후 단계(요구사항, 분석 모델, 설계)가 왜 필요한지 체감한다

---

## 1. 현행 시스템이란 무엇인가

여기서 말하는 *현행 시스템*은
대기업의 레거시 시스템이나 실제 운영 중인 서비스가 아니다.

대부분의 학생이 **처음 웹/서버 프로젝트를 할 때 자연스럽게 만드는 구조**를 의미한다.

중요한 점은,
이 단계가 단순히 "단일 컨트롤러 구조는 나쁘다"를 말하려는 것이 아니라는 것이다.

> **현행 시스템 분석은
> 지금 구조가 왜 한계에 도달했는지를
> 구조적 관점에서 설명하는 단계**이다.

### 전형적인 출발 형태

* Spring Boot 기반
* Controller 하나에 모든 API 구현
* 빠르게 동작하는 것을 우선

> "일단 돌아가게 만들자"라는 판단은 초보자에게 매우 자연스럽다.

---

## 2. 단일 컨트롤러 구조의 특징

하나의 Controller 클래스가 다음 역할을 모두 수행한다.

* HTTP 요청/응답 처리
* 요청 파라미터 검증
* 로그인/세션 처리
* 비즈니스 로직 수행
* DB 커넥션 획득
* SQL 작성 및 실행
* 결과 가공 및 응답 포맷 구성

즉,

> **하나의 파일이 모든 책임을 동시에 가진다.**

---

## 3. 처음에는 왜 문제가 없어 보일까

### 장점처럼 느껴지는 점

* 파일 하나만 보면 된다
* 코드 위치를 찾기 쉽다
* 구현 속도가 빠르다

그래서 초반에는 이렇게 느낀다.

> "이게 왜 나쁘다는 거지?"

---

## 4. 문제가 발생하는 시점

기능이 조금씩 추가되기 시작하면 구조적 문제가 드러난다.

### 4-1. 코드 가독성 붕괴

* 파일 길이가 계속 증가
* API 경계가 보이지 않음
* 수정하려는 코드 찾기 어려움

### 4-2. 수정 영향 범위 확대

* 한 기능 수정 시 다른 API 영향 우려
* 수정할수록 불안해지는 코드

### 4-3. 중복 코드 증가

* 로그인 체크 반복
* 예외 처리 반복
* 응답 포맷 반복

> 결국 **복사-붙여넣기 코드**가 늘어난다.

---

## 5. 현행 시스템 분석의 핵심 역할

현행 시스템 분석은 다음과 같은 역할을 수행한다.

### 5-1. 문제의 원인을 코드가 아닌 구조로 이동시킨다

* 문법 문제 ❌
* 개인 역량 문제 ❌
* **구조적 기준 부재 ⭕**

즉, 문제를 개인의 실수로 보지 않고
시스템 설계 단계의 부재로 인식하게 만든다.

---

### 5-2. 설계 단계를 건너뛸 수 없다는 근거를 제공한다

처음에는 빠르게 개발할 수 있지만,
기능이 늘어날수록 수정 비용이 급격히 증가한다.

이를 통해 학생은 자연스럽게 다음을 이해하게 된다.

> "설계 없이 구현부터 시작하면
> 반드시 언젠가는 한계에 도달한다."

---

### 5-3. 시스템이 암묵적으로 따르고 있던 규칙을 드러낸다

현행 시스템에는 문서로 정리되지 않은 규칙이 존재한다.

* 로그인 여부에 따른 기능 제한
* 작성자만 삭제 가능
* 조회수 중복 증가 방지

이 단계는 이러한 규칙이
코드 곳곳에 흩어져 있음을 인식시키는 단계다.

---

### 5-4. 앞으로 선택해서는 안 될 방향을 명확히 한다

현행 시스템 분석은 해결책을 제시하지 않지만,
앞으로 피해야 할 방향은 분명히 한다.

* 모든 책임을 한 파일에 집중시키는 구조
* 역할 경계가 없는 구현 방식

이로써 이후 설계 단계의 선택 범위를 자연스럽게 제한한다.

---

## 6. 왜 여기서는 해결책을 말하지 않는가

이 단계에서는 일부러 다음을 하지 않는다.

* Service / Repository 언급 ❌
* 설계 패턴 설명 ❌
* 코드 리팩토링 ❌

이유는 단순하다.

> **"왜 필요한지"를 느끼기 전에
> "어떻게"를 말하면 설득력이 없기 때문이다.**

---

## 이 단계의 핵심 정리

학생이 다음과 같은 인식을 가지면
01단계는 성공적으로 전달된 것이다.

> "이 구조는 당장은 되지만,
> 계속 확장하면 반드시 문제가 생긴다."

또는

> "문제가 생긴 이유가
> 코드를 못 짜서가 아니라
> 구조 기준이 없었기 때문이구나."

이 인식이 있어야
다음 단계가 자연스럽게 필요해진다.

---

## 다음 단계

이제 다음 질문으로 넘어간다.

> "그렇다면 이 시스템은
> **무엇을 할 수 있어야 하고,
> 어디까지 책임져야 할까?**"

→ [**02. 요구사항 정의**](02-requirements.md)
